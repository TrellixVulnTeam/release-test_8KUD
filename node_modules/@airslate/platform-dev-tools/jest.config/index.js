/* eslint-disable @typescript-eslint/no-var-requires */
const path = require('path');

module.exports = {
  testMatch: ['**/**/*.spec.js', '**/**/*.spec.ts'],
  reporters: ['default'],
  transform: {
    '^.+\\.(js|jsx|mjs|cjs|ts|tsx)$': path.join(__dirname, 'transformer.js'),
  },
  setupFilesAfterEnv: [path.join(__dirname, 'setupTests.js')],
  testEnvironment: 'jest-environment-jsdom-sixteen',
  globals: {
    __LOCAL__: true,
    AIRSLATE_ENV_CONFIGURATION: {
      API_HOST: 'https://test',
    },
    AIRSLATE_TEMP_DATA: {},
    location: {
      hostname: 'my.airslate.localhost',
    },
  },
  transformIgnorePatterns: ['/node_modules(?!\/[^/]+\/src\/.)/'],
  moduleNameMapper: {
    '\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$': path.join(__dirname, '__mocks__/fileMock.js'),
    '\\.(css|less|scss)$': 'identity-obj-proxy',
    'lodash-es(.*)': 'lodash$1',
  },
};
