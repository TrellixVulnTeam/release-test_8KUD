/* eslint-disable @typescript-eslint/no-var-requires */
const babelrc = require('../../../babel.config.main-module');

module.exports = (config = babelrc) => ({
  module: {
    rules: [{
      test: /\.(js|jsx|mjs|ts|tsx)$/,
      use: [{
        loader: 'babel-loader',
        options: {
          babelrc: false,
          cacheDirectory: true,
          ...config,
        },
      }],
    }],
  },
  resolve: {
    extensions: ['.tsx', '.ts', '.js', '.jsx', '.json'],
  },
});
