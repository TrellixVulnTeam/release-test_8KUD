/* eslint @typescript-eslint/no-var-requires: "off" */
const AssetsPlugin = require('assets-webpack-plugin');
const env = require('../envs');

module.exports = (assetsOptions = {}) => ({
  plugins: [
    new AssetsPlugin({
      metadata: {
        branch: env.BRANCH,
        triggeredBy: env.TRIGGERED_BY,
        build: env.BUILD_NUMBER,
      },
      prettyPrint: true,
      path: '.',
      filename: 'assets.json',
      entrypoints: true,
      ...assetsOptions,
    }),
  ],
});
