/* eslint-disable @typescript-eslint/no-var-requires */
const SentryCliPlugin = require('@sentry/webpack-plugin');
const envs = require('../envs');

module.exports = (release, appName, buildNumber, repo) => (
  envs.TARGET === 'GITHUB' ? {} : ({
    plugins: [
      new SentryCliPlugin({
        include: './public',
        urlPrefix: `~/${appName}/${buildNumber}`,
        setCommits: { repo },
        release,
      }),
    ],
  })
);
