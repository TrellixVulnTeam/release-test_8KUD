# @airslate/platform-dev-tools

## Rollup

`src/index.js` is used as an entry point.

You can manually specify dependencies that are not in `peerDependencies`, but it still should not be included into a bundle:

```js
module.exports = require('@airslate/platform-dev-tools/rollup.config')({ external: ['excluded-dependency'] });
```

If a package has to be delivered as UMD module, you need to specify `umd` that corresponds to library name.
The UMD bundle will be placed in `/front-platform/build` folder, **not** inside package's directory.

```js
module.exports = require('@airslate/platform-dev-tools/rollup.config')({ umd: 'PlatformSDK' });
```

Environment variables that will be replaced during the build process:

- `PLATFORM.VERSION` - `package.json` version field.

## Jest

Configured to search for tests in `*.spec.js` files.

## Styleguidist

`src/index.js` is used as an entry point.

### Configuration

Default config:

```json
{
  "showSidebar": false,
  "sections": [
    {
      "name": "@airslate/platform-resource",
      "content": "README.md",
      "exampleMode": "expand"
    }
  ]
}
```

You can redefine `sections` by passing appropriate array:

```js
module.exports = require('@airslate/platform-dev-tools/styleguide.config')([
  {
    name: 'Introduction',
    content: 'docs/INTRO.md',
    exampleMode: 'collapse',
  },
]);
```

Or pass custom config object:

```js
module.exports = require('@airslate/platform-dev-tools/styleguide.config')({
  showSidebar: false,
  sections: [
    {
      name: '@airslate/platform-resource',
      content: 'README.md',
      exampleMode: 'expand',
    },
  ],
});
```

### JSX sandbox

In order to create a sandbox, just create a JS block in a `*.md` file:

```markdown
```js
<button onClick={() => console.log('clicked')}>Click</button>
```

You can use `MethodDemo` component to create interactive examples for your functions.
It runs `onClick` callback and displays it's result in console. If the callback returns a promise, it will wait for it's resolve.

```js
import MethodDemo from '@airslate/platform-dev-tools/components/MethodDemo';
import util from './src';

<MethodDemo label="Util result" onClick={() => util()}>Run util</MethodDemo>
```

### Transpiling

See [transpiling setup](../../docs/TRANSPILING.md).

### Progress

You can disable progress output, using `NO_PROGRESS=1` env variable.
